<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Error Codes | RiktigaTomten's Core</title>
    <meta name="description" content="Reference for error codes and handling in Core">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/corebot-docs/assets/style.D4Xzy1ve.css" as="style">
    <link rel="preload stylesheet" href="/corebot-docs/vp-icons.css" as="style">
    
    <script type="module" src="/corebot-docs/assets/app.CNvQinNw.js"></script>
    <link rel="preload" href="/corebot-docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/corebot-docs/assets/chunks/theme.w6qUYbC_.js">
    <link rel="modulepreload" href="/corebot-docs/assets/chunks/framework.BI3ie6Fx.js">
    <link rel="modulepreload" href="/corebot-docs/assets/reference_error-codes.md.CwKhWWgh.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/corebot-docs/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>RiktigaTomten&#39;s Core</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/corebot-docs/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/corebot-docs/docs/getting-started" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/corebot-docs/reference/api" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>API Reference</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/riktigatomten/corebot" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.js.org" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path fill="#b75cff" d="M34.94 85.111c-.946.403-2.27.948-3.337 1.284-2.26.712-4.073 1-5.931 1.282 2.234 7.163 10.986 14.197 21.192 13.533 9.621 0 16.282-4.743 19.826-11.622-10.05-.142-24.69 4.042-31.75-4.477zm91.835 1.181c-3.514.419-6.024-.288-11.782 1.56-13.939 5.741-27.734.872-32.126-.08-1.442-.15-2.103-2.26-5.062 1.231l-1.443 1.701c6.812 6.703 16.15 10.55 25.82 10.55 13.02 0 21.823-6.288 24.748-14.829z"/><path fill="#5c6cff" d="M127.514 75.106c-7.656-5.317-9.187-1.473-13.026 2.677.355.908.547 1.94.547 3.14 0 5.604-4.504 9.231-12.524 9.231-6.703 0-13.624-3.296-18.787-8.131l-5.92 6.98c8.016.36 16.13 2.43 24.246 2.11 8.882-.352 20.615-3.164 24.725-4.82l.156.132a20.019 20.019 0 0 0 1.069-6.49c0-1.747-.17-3.35-.486-4.829zm-57.826.116c-4.338-3.309-8.496-2.182-12.483 2.493v.8c0 6.335-5.119 11.47-11.433 11.47a11.419 11.419 0 0 1-9.687-5.37s-.499.22-1.145.495c2.988 3.766 6.66 5.713 13.947 6.003 5.935.235 11.87-.805 17.805-1.525 1.983-3.846 2.996-8.358 2.996-13.089z"/><path fill="#5cff9d" d="M69.688 61.638c-4.052-3.565-8.177-4.284-12.483 1.156v14.921c4.175-.972 8.34-1.96 12.483-2.493zm48.311 1.084c-6.232-2.728-24.892.001-28.191 1.251a33.684 33.684 0 0 0 4.243 2.114l9.779 4.286c5.259 2.192 9.255 3.827 10.658 7.41 4.037-.586 7.518-1.39 9.835-1.923l3.19-.754c-1.223-5.711-4.689-9.545-9.514-12.384z"/><path fill="#ffdb5c" d="M79.565 47.88c.328 7.924 4.916 12.934 10.267 16.103 4.084.806 8.168 1.505 12.252 1.505 5.701 0 11.396-1.358 15.92-2.764a38.238 38.238 0 0 0-4.506-2.24l-9.668-4.066c-4.776-1.946-9.265-3.68-10.835-7.205-9.634-4.892-3.172-7.979-13.428-1.332Zm-9.877.96c-3.664-2.528-7.798-1.771-12.484 2.289l.001 11.673c4.16-.417 8.322-.971 12.483-1.164z"/><path fill="#f79454" d="M83.868 35.077c-2.75 3.305-4.32 7.392-4.32 11.89 0 .308.007.612.019.912 4.454-.044 8.935.45 13.428 1.335a7.034 7.034 0 0 1-.591-2.906c0-5.275 4.394-8.462 11.207-8.462 6.151 0 11.096 2.308 15.6 6.153l4.783-5.897c-13.977-4.32-26.47-7.037-40.124-3.026Zm-14.18 2.824c-5.156-4.528-9.114-1.188-12.484 5.13v8.098c4.162-.645 8.322-1.587 12.484-2.29z"/><path fill="#ff5c5c" d="M57.204 26.748v16.284c4.162-1.405 8.322-3.483 12.484-5.132V26.748Zm46.405 0c-8.459 0-15.501 3.235-19.74 8.326 6.033.023 12.106 1.242 18.18 1.967 8.689 1.038 17.348 1.06 21.943 1.06l1.812-2.233c-5.604-5.605-13.735-9.121-22.195-9.121z"/><path fill="#5865f2" d="M0 26.748V81.75h20.823c5.458 0 9.638-.865 13.52-2.823-.007-.135-.007-.273-.007-.41 0-6.335 5.12-11.468 11.436-11.468.187 0 .372.004.557.014 1.981-4.033 2.78-8.032 2.78-13.286 0-5.421-1.02-10.139-3.064-14.223-2.121-4.007-5.186-7.15-9.27-9.43-4.088-2.277-9.037-3.376-14.931-3.376Zm13.2 11.785h7.937c4.637 0 8.172 1.337 10.53 4.087 2.357 2.749 3.535 6.52 3.535 11.392 0 4.95-1.259 8.802-3.694 11.63-2.435 2.907-6.05 4.321-10.844 4.321h-7.463zm32.605 32.76a7.226 7.226 0 1 0 0 14.449 7.226 7.226 0 0 0 0-14.45z"/></svg>
</a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/riktigatomten/corebot" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.js.org" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path fill="#b75cff" d="M34.94 85.111c-.946.403-2.27.948-3.337 1.284-2.26.712-4.073 1-5.931 1.282 2.234 7.163 10.986 14.197 21.192 13.533 9.621 0 16.282-4.743 19.826-11.622-10.05-.142-24.69 4.042-31.75-4.477zm91.835 1.181c-3.514.419-6.024-.288-11.782 1.56-13.939 5.741-27.734.872-32.126-.08-1.442-.15-2.103-2.26-5.062 1.231l-1.443 1.701c6.812 6.703 16.15 10.55 25.82 10.55 13.02 0 21.823-6.288 24.748-14.829z"/><path fill="#5c6cff" d="M127.514 75.106c-7.656-5.317-9.187-1.473-13.026 2.677.355.908.547 1.94.547 3.14 0 5.604-4.504 9.231-12.524 9.231-6.703 0-13.624-3.296-18.787-8.131l-5.92 6.98c8.016.36 16.13 2.43 24.246 2.11 8.882-.352 20.615-3.164 24.725-4.82l.156.132a20.019 20.019 0 0 0 1.069-6.49c0-1.747-.17-3.35-.486-4.829zm-57.826.116c-4.338-3.309-8.496-2.182-12.483 2.493v.8c0 6.335-5.119 11.47-11.433 11.47a11.419 11.419 0 0 1-9.687-5.37s-.499.22-1.145.495c2.988 3.766 6.66 5.713 13.947 6.003 5.935.235 11.87-.805 17.805-1.525 1.983-3.846 2.996-8.358 2.996-13.089z"/><path fill="#5cff9d" d="M69.688 61.638c-4.052-3.565-8.177-4.284-12.483 1.156v14.921c4.175-.972 8.34-1.96 12.483-2.493zm48.311 1.084c-6.232-2.728-24.892.001-28.191 1.251a33.684 33.684 0 0 0 4.243 2.114l9.779 4.286c5.259 2.192 9.255 3.827 10.658 7.41 4.037-.586 7.518-1.39 9.835-1.923l3.19-.754c-1.223-5.711-4.689-9.545-9.514-12.384z"/><path fill="#ffdb5c" d="M79.565 47.88c.328 7.924 4.916 12.934 10.267 16.103 4.084.806 8.168 1.505 12.252 1.505 5.701 0 11.396-1.358 15.92-2.764a38.238 38.238 0 0 0-4.506-2.24l-9.668-4.066c-4.776-1.946-9.265-3.68-10.835-7.205-9.634-4.892-3.172-7.979-13.428-1.332Zm-9.877.96c-3.664-2.528-7.798-1.771-12.484 2.289l.001 11.673c4.16-.417 8.322-.971 12.483-1.164z"/><path fill="#f79454" d="M83.868 35.077c-2.75 3.305-4.32 7.392-4.32 11.89 0 .308.007.612.019.912 4.454-.044 8.935.45 13.428 1.335a7.034 7.034 0 0 1-.591-2.906c0-5.275 4.394-8.462 11.207-8.462 6.151 0 11.096 2.308 15.6 6.153l4.783-5.897c-13.977-4.32-26.47-7.037-40.124-3.026Zm-14.18 2.824c-5.156-4.528-9.114-1.188-12.484 5.13v8.098c4.162-.645 8.322-1.587 12.484-2.29z"/><path fill="#ff5c5c" d="M57.204 26.748v16.284c4.162-1.405 8.322-3.483 12.484-5.132V26.748Zm46.405 0c-8.459 0-15.501 3.235-19.74 8.326 6.033.023 12.106 1.242 18.18 1.967 8.689 1.038 17.348 1.06 21.943 1.06l1.812-2.233c-5.604-5.605-13.735-9.121-22.195-9.121z"/><path fill="#5865f2" d="M0 26.748V81.75h20.823c5.458 0 9.638-.865 13.52-2.823-.007-.135-.007-.273-.007-.41 0-6.335 5.12-11.468 11.436-11.468.187 0 .372.004.557.014 1.981-4.033 2.78-8.032 2.78-13.286 0-5.421-1.02-10.139-3.064-14.223-2.121-4.007-5.186-7.15-9.27-9.43-4.088-2.277-9.037-3.376-14.931-3.376Zm13.2 11.785h7.937c4.637 0 8.172 1.337 10.53 4.087 2.357 2.749 3.535 6.52 3.535 11.392 0 4.95-1.259 8.802-3.694 11.63-2.435 2.907-6.05 4.321-10.844 4.321h-7.463zm32.605 32.76a7.226 7.226 0 1 0 0 14.449 7.226 7.226 0 0 0 0-14.45z"/></svg>
</a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>API Reference</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/corebot-docs/reference/api" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Core API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/corebot-docs/reference/configuration" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Configuration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/corebot-docs/reference/error-codes" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Error Codes</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _corebot-docs_reference_error-codes" data-v-e6f2a212><div><h1 id="error-codes" tabindex="-1">Error Codes <a class="header-anchor" href="#error-codes" aria-label="Permalink to &quot;Error Codes&quot;">‚Äã</a></h1><p>Core provides a comprehensive error handling system that gives you human-readable error messages with solutions. This page documents common error codes and how to handle them.</p><h2 id="how-errors-work" tabindex="-1">How Errors Work <a class="header-anchor" href="#how-errors-work" aria-label="Permalink to &quot;How Errors Work&quot;">‚Äã</a></h2><p>When Core encounters an error, it:</p><ol><li>Identifies the error code</li><li>Looks up a user-friendly explanation</li><li>Displays the error with severity, description, and solution</li><li>In debug mode, shows technical details</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>üö® Database Connection Failed [startup] 23:31:48</span></span>
<span class="line"><span>The bot cannot connect to the database server. This usually means</span></span>
<span class="line"><span>the database is not running or the connection settings are incorrect.</span></span>
<span class="line"><span>Check if your database server is running and verify your connection</span></span>
<span class="line"><span>settings in the .env file (host, port, username, password).</span></span>
<span class="line"><span>‚ö†Ô∏è  Severity: CRITICAL</span></span></code></pre></div><h2 id="using-the-errorhandler" tabindex="-1">Using the ErrorHandler <a class="header-anchor" href="#using-the-errorhandler" aria-label="Permalink to &quot;Using the ErrorHandler&quot;">‚Äã</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ErrorHandler, logger } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> riskyOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Formatted error with solution</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyAddon&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, logger);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="adding-custom-error-mappings" tabindex="-1">Adding Custom Error Mappings <a class="header-anchor" href="#adding-custom-error-mappings" aria-label="Permalink to &quot;Adding Custom Error Mappings&quot;">‚Äã</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addErrorMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MY_CUSTOM_ERROR&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Custom Error Title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;What happened and why.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  solution: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;How to fix it.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  severity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;medium&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // critical, high, medium, low</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><hr><h2 id="database-errors" tabindex="-1">Database Errors <a class="header-anchor" href="#database-errors" aria-label="Permalink to &quot;Database Errors&quot;">‚Äã</a></h2><p>Core uses SQLite via better-sqlite3. While the error mapping includes MySQL error codes for historical reasons, most database errors you&#39;ll encounter are SQLite-specific.</p><h3 id="sqlite-cantopen" tabindex="-1">SQLITE_CANTOPEN <a class="header-anchor" href="#sqlite-cantopen" aria-label="Permalink to &quot;SQLITE_CANTOPEN&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Cannot Open Database</td></tr><tr><td><strong>Severity</strong></td><td>Critical</td></tr><tr><td><strong>Description</strong></td><td>SQLite cannot open the database file.</td></tr><tr><td><strong>Solution</strong></td><td>Check that the <code>database/</code> directory exists and is writable. Ensure no other process has the file locked.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>Directory doesn&#39;t exist</li><li>Permission denied</li><li>File locked by another process</li></ul><h3 id="sqlite-corrupt" tabindex="-1">SQLITE_CORRUPT <a class="header-anchor" href="#sqlite-corrupt" aria-label="Permalink to &quot;SQLITE_CORRUPT&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Database Corrupted</td></tr><tr><td><strong>Severity</strong></td><td>Critical</td></tr><tr><td><strong>Description</strong></td><td>The SQLite database file is corrupted.</td></tr><tr><td><strong>Solution</strong></td><td>Delete the database file and restart. If you have backups, restore from backup.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>Improper shutdown</li><li>Disk failure</li><li>Concurrent access issues</li></ul><h3 id="er-no-such-table" tabindex="-1">ER_NO_SUCH_TABLE <a class="header-anchor" href="#er-no-such-table" aria-label="Permalink to &quot;ER_NO_SUCH_TABLE&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Database Table Missing</td></tr><tr><td><strong>Severity</strong></td><td>High</td></tr><tr><td><strong>Description</strong></td><td>A required table is missing from the database.</td></tr><tr><td><strong>Solution</strong></td><td>Run the database migration scripts to create the required tables, or check if the table name is correct.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>Schema not initialized</li><li>Table dropped accidentally</li><li>Typo in table name</li><li>Using wrong database</li></ul><hr><h2 id="discord-api-errors" tabindex="-1">Discord API Errors <a class="header-anchor" href="#discord-api-errors" aria-label="Permalink to &quot;Discord API Errors&quot;">‚Äã</a></h2><h3 id="discord-api-error" tabindex="-1">DISCORD_API_ERROR <a class="header-anchor" href="#discord-api-error" aria-label="Permalink to &quot;DISCORD_API_ERROR&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Discord API Error</td></tr><tr><td><strong>Severity</strong></td><td>Medium</td></tr><tr><td><strong>Description</strong></td><td>There was an error communicating with Discord&#39;s servers.</td></tr><tr><td><strong>Solution</strong></td><td>Check your bot token and permissions. If the issue persists, Discord&#39;s API might be experiencing issues.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>Invalid bot token</li><li>Discord outage</li><li>Rate limiting</li><li>Invalid request data</li></ul><h3 id="missing-permissions" tabindex="-1">MISSING_PERMISSIONS <a class="header-anchor" href="#missing-permissions" aria-label="Permalink to &quot;MISSING_PERMISSIONS&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Bot Missing Permissions</td></tr><tr><td><strong>Severity</strong></td><td>Medium</td></tr><tr><td><strong>Description</strong></td><td>The bot doesn&#39;t have the required permissions to perform this action.</td></tr><tr><td><strong>Solution</strong></td><td>Check the bot&#39;s role permissions in your Discord server settings.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>Bot role too low in hierarchy</li><li>Missing specific permissions</li><li>Channel-level permission overrides</li></ul><hr><h2 id="network-errors" tabindex="-1">Network Errors <a class="header-anchor" href="#network-errors" aria-label="Permalink to &quot;Network Errors&quot;">‚Äã</a></h2><h3 id="enotfound" tabindex="-1">ENOTFOUND <a class="header-anchor" href="#enotfound" aria-label="Permalink to &quot;ENOTFOUND&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Network Connection Error</td></tr><tr><td><strong>Severity</strong></td><td>High</td></tr><tr><td><strong>Description</strong></td><td>Cannot resolve the hostname. This could be a network connectivity issue.</td></tr><tr><td><strong>Solution</strong></td><td>Check your internet connection and verify the server hostname is correct.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>No internet connection</li><li>DNS resolution failure</li><li>Hostname typo</li></ul><h3 id="etimedout" tabindex="-1">ETIMEDOUT <a class="header-anchor" href="#etimedout" aria-label="Permalink to &quot;ETIMEDOUT&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Title</strong></td><td>Connection Timeout</td></tr><tr><td><strong>Severity</strong></td><td>Medium</td></tr><tr><td><strong>Description</strong></td><td>The connection to the server timed out.</td></tr><tr><td><strong>Solution</strong></td><td>Check your network connection and server availability. The server might be overloaded.</td></tr></tbody></table><p><strong>Common Causes</strong>:</p><ul><li>Server overloaded</li><li>Network congestion</li><li>Firewall issues</li><li>Server not responding</li></ul><hr><h2 id="protection-errors" tabindex="-1">Protection Errors <a class="header-anchor" href="#protection-errors" aria-label="Permalink to &quot;Protection Errors&quot;">‚Äã</a></h2><p>Thrown by the <code>protect()</code> function:</p><h3 id="request-duplicate" tabindex="-1">REQUEST_DUPLICATE <a class="header-anchor" href="#request-duplicate" aria-label="Permalink to &quot;REQUEST_DUPLICATE&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Severity</strong></td><td>Low</td></tr><tr><td><strong>Description</strong></td><td>The same request is already being processed.</td></tr><tr><td><strong>Solution</strong></td><td>Wait for the current request to complete before retrying.</td></tr></tbody></table><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { protect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> protect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;action&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, doSomething);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;REQUEST_DUPLICATE&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> interaction.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Please wait, your request is being processed.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ephemeral: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="rate-limited" tabindex="-1">RATE_LIMITED <a class="header-anchor" href="#rate-limited" aria-label="Permalink to &quot;RATE_LIMITED&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Severity</strong></td><td>Low</td></tr><tr><td><strong>Description</strong></td><td>User has exceeded the rate limit for this action.</td></tr><tr><td><strong>Solution</strong></td><td>Wait before retrying.</td></tr></tbody></table><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> protect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;action&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, doSomething);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;RATE_LIMITED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> interaction.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Slow down! Try again in ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">retryAfter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} seconds.`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ephemeral: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="sqlite-errors" tabindex="-1">SQLite Errors <a class="header-anchor" href="#sqlite-errors" aria-label="Permalink to &quot;SQLite Errors&quot;">‚Äã</a></h2><h3 id="sqlite-constraint-unique" tabindex="-1">SQLITE_CONSTRAINT_UNIQUE <a class="header-anchor" href="#sqlite-constraint-unique" aria-label="Permalink to &quot;SQLITE_CONSTRAINT_UNIQUE&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Description</strong></td><td>Attempted to insert a duplicate value in a unique column.</td></tr><tr><td><strong>Solution</strong></td><td>Use INSERT OR REPLACE, or check if record exists first.</td></tr></tbody></table><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">prepare</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;INSERT INTO users (id) VALUES (?)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SQLITE_CONSTRAINT_UNIQUE&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // User already exists</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="sqlite-constraint-foreignkey" tabindex="-1">SQLITE_CONSTRAINT_FOREIGNKEY <a class="header-anchor" href="#sqlite-constraint-foreignkey" aria-label="Permalink to &quot;SQLITE_CONSTRAINT_FOREIGNKEY&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Description</strong></td><td>Foreign key constraint violation.</td></tr><tr><td><strong>Solution</strong></td><td>Ensure referenced record exists before inserting.</td></tr></tbody></table><h3 id="sqlite-busy" tabindex="-1">SQLITE_BUSY <a class="header-anchor" href="#sqlite-busy" aria-label="Permalink to &quot;SQLITE_BUSY&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Description</strong></td><td>Database is locked by another process.</td></tr><tr><td><strong>Solution</strong></td><td>Use WAL mode, retry with backoff, or ensure single writer.</td></tr></tbody></table><h3 id="sqlite-readonly" tabindex="-1">SQLITE_READONLY <a class="header-anchor" href="#sqlite-readonly" aria-label="Permalink to &quot;SQLITE_READONLY&quot;">‚Äã</a></h3><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Description</strong></td><td>Attempted to write to a read-only database.</td></tr><tr><td><strong>Solution</strong></td><td>Check file permissions and database path.</td></tr></tbody></table><hr><h2 id="severity-levels" tabindex="-1">Severity Levels <a class="header-anchor" href="#severity-levels" aria-label="Permalink to &quot;Severity Levels&quot;">‚Äã</a></h2><table tabindex="0"><thead><tr><th>Level</th><th>Color</th><th>Meaning</th></tr></thead><tbody><tr><td><strong>Critical</strong></td><td>Red background</td><td>System cannot function, immediate action required</td></tr><tr><td><strong>High</strong></td><td>Red</td><td>Major functionality broken</td></tr><tr><td><strong>Medium</strong></td><td>Yellow</td><td>Feature affected but workarounds exist</td></tr><tr><td><strong>Low</strong></td><td>Cyan</td><td>Minor issue, can be ignored temporarily</td></tr></tbody></table><hr><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">‚Äã</a></h2><h3 id="_1-always-catch-errors" tabindex="-1">1. Always Catch Errors <a class="header-anchor" href="#_1-always-catch-errors" aria-label="Permalink to &quot;1. Always Catch Errors&quot;">‚Äã</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Bad - errors crash your addon</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doRiskyThing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Good - handle gracefully</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doRiskyThing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyAddon&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Optionally notify user</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-use-appropriate-response" tabindex="-1">2. Use Appropriate Response <a class="header-anchor" href="#_2-use-appropriate-response" aria-label="Permalink to &quot;2. Use Appropriate Response&quot;">‚Äã</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createTicket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;RATE_LIMITED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // User error - inform them</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> interaction.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Please slow down!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ephemeral: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // System error - log and generic message</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Tickets&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> interaction.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Something went wrong. Please try again later.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ephemeral: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-add-context" tabindex="-1">3. Add Context <a class="header-anchor" href="#_3-add-context" aria-label="Permalink to &quot;3. Add Context&quot;">‚Äã</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// With context - easier to debug</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Tickets/createTicket&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Without context - harder to trace</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error);</span></span></code></pre></div><h3 id="_4-don-t-swallow-errors" tabindex="-1">4. Don&#39;t Swallow Errors <a class="header-anchor" href="#_4-don-t-swallow-errors" aria-label="Permalink to &quot;4. Don&#39;t Swallow Errors&quot;">‚Äã</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Bad - silently fails</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doThing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nothing happens</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Good - at least log it</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doThing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[MyAddon] doThing failed:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_5-custom-error-types" tabindex="-1">5. Custom Error Types <a class="header-anchor" href="#_5-custom-error-types" aria-label="Permalink to &quot;5. Custom Error Types&quot;">‚Äã</a></h3><p>For addon-specific errors:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Register once during initialization</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ErrorHandler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addErrorMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TICKET_LIMIT_REACHED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Ticket Limit Reached&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;You have reached the maximum number of open tickets.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  solution: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Please close some existing tickets before opening new ones.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  severity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;low&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Throw when needed</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Too many tickets&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">error.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;TICKET_LIMIT_REACHED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error;</span></span></code></pre></div><hr><h2 id="debug-mode" tabindex="-1">Debug Mode <a class="header-anchor" href="#debug-mode" aria-label="Permalink to &quot;Debug Mode&quot;">‚Äã</a></h2><p>With <code>DEBUG=true</code>, errors include technical details:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>üö® Database Table Missing [Tickets] 23:31:48</span></span>
<span class="line"><span>A required table is missing from the database.</span></span>
<span class="line"><span>Run the database migration scripts to create the required tables.</span></span>
<span class="line"><span>‚ö†Ô∏è  Severity: HIGH</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Technical Details:</span></span>
<span class="line"><span>   Error Code: ER_NO_SUCH_TABLE</span></span>
<span class="line"><span>   Error Message: Table &#39;bot.tickets&#39; doesn&#39;t exist</span></span>
<span class="line"><span>   SQL: SELECT * FROM tickets WHERE id = ?</span></span></code></pre></div><p>Enable debug mode during development for maximum information.</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/corebot-docs/reference/configuration" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Configuration</span><!--]--></a></div><div class="pager" data-v-1bcd8184><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the MIT License.</p><p class="copyright" data-v-566314d4>Copyright ¬© 2025 RiktigaTomten</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_addon-architecture.md\":\"B6Lg7TcE\",\"docs_creating-addons.md\":\"I6lL65TE\",\"docs_database.md\":\"DvTffEuL\",\"docs_events.md\":\"3RF4PFBb\",\"docs_extensions.md\":\"DTxZTDGj\",\"docs_getting-started.md\":\"BvwthLtZ\",\"docs_how-core-works.md\":\"D8KUJzvx\",\"docs_why-core.md\":\"BU7kS0K0\",\"index.md\":\"DRBZx8JT\",\"reference_api.md\":\"C66GofnA\",\"reference_configuration.md\":\"BAih0o6h\",\"reference_error-codes.md\":\"CwKhWWgh\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"RiktigaTomten's Core\",\"description\":\"Documentation for Core's adaptive framework\",\"base\":\"/corebot-docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Guide\",\"link\":\"/docs/getting-started\"},{\"text\":\"API Reference\",\"link\":\"/reference/api\"}],\"sidebar\":{\"/docs/\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"Why Core?\",\"link\":\"/docs/why-core\"},{\"text\":\"Getting Started\",\"link\":\"/docs/getting-started\"},{\"text\":\"How Core Works\",\"link\":\"/docs/how-core-works\"}]},{\"text\":\"Building Addons\",\"items\":[{\"text\":\"Creating Addons\",\"link\":\"/docs/creating-addons\"},{\"text\":\"Extensions System\",\"link\":\"/docs/extensions\"},{\"text\":\"Addon Architecture\",\"link\":\"/docs/addon-architecture\"}]},{\"text\":\"Core Features\",\"items\":[{\"text\":\"Event System\",\"link\":\"/docs/events\"},{\"text\":\"Database Integration\",\"link\":\"/docs/database\"}]}],\"/reference/\":[{\"text\":\"API Reference\",\"items\":[{\"text\":\"Core API\",\"link\":\"/reference/api\"},{\"text\":\"Configuration\",\"link\":\"/reference/configuration\"},{\"text\":\"Error Codes\",\"link\":\"/reference/error-codes\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/riktigatomten/corebot\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 128 128\\\"><path fill=\\\"#b75cff\\\" d=\\\"M34.94 85.111c-.946.403-2.27.948-3.337 1.284-2.26.712-4.073 1-5.931 1.282 2.234 7.163 10.986 14.197 21.192 13.533 9.621 0 16.282-4.743 19.826-11.622-10.05-.142-24.69 4.042-31.75-4.477zm91.835 1.181c-3.514.419-6.024-.288-11.782 1.56-13.939 5.741-27.734.872-32.126-.08-1.442-.15-2.103-2.26-5.062 1.231l-1.443 1.701c6.812 6.703 16.15 10.55 25.82 10.55 13.02 0 21.823-6.288 24.748-14.829z\\\"/><path fill=\\\"#5c6cff\\\" d=\\\"M127.514 75.106c-7.656-5.317-9.187-1.473-13.026 2.677.355.908.547 1.94.547 3.14 0 5.604-4.504 9.231-12.524 9.231-6.703 0-13.624-3.296-18.787-8.131l-5.92 6.98c8.016.36 16.13 2.43 24.246 2.11 8.882-.352 20.615-3.164 24.725-4.82l.156.132a20.019 20.019 0 0 0 1.069-6.49c0-1.747-.17-3.35-.486-4.829zm-57.826.116c-4.338-3.309-8.496-2.182-12.483 2.493v.8c0 6.335-5.119 11.47-11.433 11.47a11.419 11.419 0 0 1-9.687-5.37s-.499.22-1.145.495c2.988 3.766 6.66 5.713 13.947 6.003 5.935.235 11.87-.805 17.805-1.525 1.983-3.846 2.996-8.358 2.996-13.089z\\\"/><path fill=\\\"#5cff9d\\\" d=\\\"M69.688 61.638c-4.052-3.565-8.177-4.284-12.483 1.156v14.921c4.175-.972 8.34-1.96 12.483-2.493zm48.311 1.084c-6.232-2.728-24.892.001-28.191 1.251a33.684 33.684 0 0 0 4.243 2.114l9.779 4.286c5.259 2.192 9.255 3.827 10.658 7.41 4.037-.586 7.518-1.39 9.835-1.923l3.19-.754c-1.223-5.711-4.689-9.545-9.514-12.384z\\\"/><path fill=\\\"#ffdb5c\\\" d=\\\"M79.565 47.88c.328 7.924 4.916 12.934 10.267 16.103 4.084.806 8.168 1.505 12.252 1.505 5.701 0 11.396-1.358 15.92-2.764a38.238 38.238 0 0 0-4.506-2.24l-9.668-4.066c-4.776-1.946-9.265-3.68-10.835-7.205-9.634-4.892-3.172-7.979-13.428-1.332Zm-9.877.96c-3.664-2.528-7.798-1.771-12.484 2.289l.001 11.673c4.16-.417 8.322-.971 12.483-1.164z\\\"/><path fill=\\\"#f79454\\\" d=\\\"M83.868 35.077c-2.75 3.305-4.32 7.392-4.32 11.89 0 .308.007.612.019.912 4.454-.044 8.935.45 13.428 1.335a7.034 7.034 0 0 1-.591-2.906c0-5.275 4.394-8.462 11.207-8.462 6.151 0 11.096 2.308 15.6 6.153l4.783-5.897c-13.977-4.32-26.47-7.037-40.124-3.026Zm-14.18 2.824c-5.156-4.528-9.114-1.188-12.484 5.13v8.098c4.162-.645 8.322-1.587 12.484-2.29z\\\"/><path fill=\\\"#ff5c5c\\\" d=\\\"M57.204 26.748v16.284c4.162-1.405 8.322-3.483 12.484-5.132V26.748Zm46.405 0c-8.459 0-15.501 3.235-19.74 8.326 6.033.023 12.106 1.242 18.18 1.967 8.689 1.038 17.348 1.06 21.943 1.06l1.812-2.233c-5.604-5.605-13.735-9.121-22.195-9.121z\\\"/><path fill=\\\"#5865f2\\\" d=\\\"M0 26.748V81.75h20.823c5.458 0 9.638-.865 13.52-2.823-.007-.135-.007-.273-.007-.41 0-6.335 5.12-11.468 11.436-11.468.187 0 .372.004.557.014 1.981-4.033 2.78-8.032 2.78-13.286 0-5.421-1.02-10.139-3.064-14.223-2.121-4.007-5.186-7.15-9.27-9.43-4.088-2.277-9.037-3.376-14.931-3.376Zm13.2 11.785h7.937c4.637 0 8.172 1.337 10.53 4.087 2.357 2.749 3.535 6.52 3.535 11.392 0 4.95-1.259 8.802-3.694 11.63-2.435 2.907-6.05 4.321-10.844 4.321h-7.463zm32.605 32.76a7.226 7.226 0 1 0 0 14.449 7.226 7.226 0 0 0 0-14.45z\\\"/></svg>\\n\"},\"link\":\"https://discord.js.org\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright ¬© 2025 RiktigaTomten\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>